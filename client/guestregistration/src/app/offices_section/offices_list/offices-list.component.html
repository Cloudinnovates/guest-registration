<div>

  <h1 class="page-title">{{'offices.main_page_title' | translate}}</h1>
  <div>
      <a id="newOfficeBtn" [routerLink]="['/offices/add']" class="btn btn-primary active" role="button" routerLinkActive="active">
        {{'offices.new_office_btn' | translate}} </a>
  </div>

  <h1 class="page-title">{{'offices.page_title' | translate}}
    <input id="filter" name="search" [(ngModel)]="searchField" (keyup)="searchInput()" placeholder="{{'offices.search_placeholder' | translate}}" type="search">
  </h1>

  <div>
    <table mat-table [dataSource]="dataSource" matSort class="offices-list-table">

      <ng-container matColumnDef="name">
        <th id="location" mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.location' | translate}} </th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.name}} </td>
      </ng-container>

      <ng-container matColumnDef="address">
        <th id="address" mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.address' | translate}}</th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.address}} </td>
      </ng-container>

      <ng-container matColumnDef="phone">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.phone' | translate}} </th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.phone}} </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th id="email" mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.email' | translate}} </th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.email}} </td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.office_type' | translate}} </th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.type}} </td>
      </ng-container>

      <ng-container matColumnDef="manager">
        <th id="manager" mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.manager' | translate}} </th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.manager_name}} {{row.manager_surname}} </td>
      </ng-container>

      <ng-container matColumnDef="manager_email">
        <th id="manager_email" mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.manager_email' | translate}} </th>
        <td class="word_break" mat-cell *matCellDef="let row" (click)="officeEmployees(row.id)"> {{row.manager_email}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th id="actions" mat-header-cell *matHeaderCellDef mat-sort-header> {{'offices.actions' | translate}} </th>
        <td mat-cell *matCellDef="let row; let i = index">
          <a [routerLink]="['/offices/edit']" routerLinkActive="active" (click)="editingOfficeId(row.id)">
          <button class="editBtn">{{'update_button' | translate}}</button></a>
          <a (click)="deleteOffice(row, i)">
          <button class="deleteBtn">{{'delete_button' | translate}}</button></a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
    </table>
    <div id="pagination">
      <mat-paginator width="50px" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    </div>
  </div>

  <div id="no-offices" *ngIf="offices && offices.length == 0">
    <h5>{{'offices.no_offices' | translate}}!</h5>
  </div>
</div>


